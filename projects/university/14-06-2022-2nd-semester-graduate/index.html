<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Track-Before-Detect FMCW Radar Algorithm Exploration | Magnus Borresen</title> <meta name="author" content="Magnus Borresen"/> <meta name="description" content="Personal website for Magnus Borresen "/> <meta name="keywords" content="academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img/favicon.ico"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://magnusborresen.com/projects/university/14-06-2022-2nd-semester-graduate/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="https://magnusborresen.com/"><span class="font-weight-bold">Magnus</span> Borresen</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Track-Before-Detect FMCW Radar Algorithm Exploration</h1> <p class="post-description"></p> </header> <article> <p>Now that there’s only 3 semesters left of my university career, we wanted to try something new. I have never worked with radio systems much and particularly not radar. Thus when the oppertunity to do a project within Numerical Scientific Computing, my prosective group member and I went to one of the professors in the communications department and asked if he had a project that we could work on. He suggested we could work on a target tracking radar system utilizing a track-before-detect (TBD) algorithm. He actually presented a paper that he had cowritten showcasing a radar signal model, target state-space model and an algorith called a Particle Filter. Needless to say, we accepted his proposal and started researching. The goal of the project would be to create a simulation model that could be used to evaluate the computational complexity of such a tracking system.</p> <p>Since we knew absolutely nothing about radar systems we took to the internet and some recommended books from our supervisor. Ofcourse we commited the usual crime of throwing ourselves over the actual algorithm before we had gotten an overview of what different kinds of radar systems was available. However we know that we wanted to see if we could simulate a Multiple-Input Multiple-Output (MIMO) system using the signal model from the article our supervisor had cowritten, by the way, the article can be found <a href="https://www.researchgate.net/publication/224386509_A_Single-Stage_Target_Tracking_Algorithm_for_Multistatic_DVB-T_Passive_Radar_Systems" target="_blank" rel="noopener noreferrer">here</a>.</p> <p>So let’s see what kind of usecase we can create for this radar system.</p> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/projects/2nd-semester-graduate/usecase-1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/projects/2nd-semester-graduate/usecase-1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/projects/2nd-semester-graduate/usecase-1-1400.webp"></source> <img src="/assets/img/projects/2nd-semester-graduate/usecase-1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <p>We want to have an array of transmitter antennas and receiver antennas. The transmitters will send out a signal that will bounce of any present targets, but also other objects which we will call clutter. Since we don’t have any actual antennas, we need to simulate how a signal would propagate from one antenna, to a target, to another antenna. How should the antennas even be placed in relation to each other? (Note: we will not be taking full use of the advantages that a MIMO system brings to the table because of the limited amount of time a semester offers.)</p> <p>Next, any radar system needs a signal processing box, because otherwise we would just be receiving weird samples from an antenna. So our code will be focused mostly around this signal processing box.</p> <p>After the signal processing box we need to use some hardware that contains some more power for the heavy lifting. By that I mean the estimation algorithm. Since we have chosen to implement a particle filter, the same calculations must be run when updating each particle in each observation.</p> <h1 id="radars">Radars</h1> <p>Okay, let’s first talk a little bit about how radars actually work before diving deeper into the topic of implementing and testing the algorithms. Radar is an old acronym for RAdio Detection And Ranging. Meaning we use electromagnetic radio signals to determine if there is something out there, and in the case there is, how far away it is from the observation point. When emitting a radio wave it will travel in different direction depending on the gain and directivity of the transmitting antenna and (hoepfully) reach an object.</p> <h2 id="types-of-radars">Types of Radars</h2> <p>Generally we talk about two types of radar systems that is, monostatic and multistatic systems. In a monostatic system, the receiver and transmitter in build into the same radar hardware. Meaning that only one antenna is used for both transmitting and receiving. Within those systems there are again several different way to create a signal for transmission. Some of the modulation types will be discussed later.</p> <p>In multistatic systems, the receiver and transmitter are two seperate parts of hardware with their own associated antennas. When talking multistatic systems, there are several different termonoligies that describes how the receivers and transmitters are physically placed in relation to each other. They can be colocated meaning, they are closely spaced. In traditional radars, this usually refers to a monostatic radar. However in MIMO radar we can have colocated antennas without the being monostatic. In fact, colocated MIMO is often used because it is possible to create a virtual antenna array, which makes it possible to run some interesting beamforming algorithms.</p> <p>The idea of this project was to look at the system in a multistatic MIMO setup, which we technically did. We ended up spending so much time on the actual implementation of the basic radar system that we did not consider much of the benefits that MIMO brings to the table such as beamforming and virtual arrays. Which is a bummer because this is one of the research areas within radar that still has a lot of uncovered grounds.</p> <h2 id="the-radar-equation">The Radar Equation</h2> <p>Depending of the Radar Cross Sectional (RCS) area of the object, some energy will be reflected back toward our receiver. The RCS can be a very tricky thing to calculate and it depends on a lot of things. For bladed aircrafts such as commercial drones, it can even depend on the position of the rotors. The military uses special paint on their stealth aircrafts in order to lower the RCS. The recieved power from a reflected wave can be expressed by the radar range equation as shown below</p> \[P_r = \frac{P_t G_t G_r \lambda^2 \sigma}{(4\pi)^2 R^4 L_a(R)}\] <p>Where \(P_t\) is the transmitted power, \(G_t, G_r\) is gains of the transmitter and receiver, \(\lambda\) is the wavelength of the carrier, \(\sigma\) is the RCS, \(R\) is the distance and \(L_a(R)\) is an attenuation factor determine by wavelength, media and altitude. This factor can be read of a figure in many rader theory books such as Fundamentals of Radar Signal Processing by Mark A Richards - I would recommend this books to anyone interested in learning more about radar theory and the signal processing aspect.</p> <p>For the RCS we found a figure of some common DJI commercial drones in a NATO paper - <a href="https://www.sto.nato.int/publications/STO%20Meeting%20Proceedings/STO-MP-MSG-SET-183/MP-MSG-SET-183-04.pdf" target="_blank" rel="noopener noreferrer">Drone RCS Statistical Behaviour</a>.</p> <p>So we can quickly see from the equation that the received signal strength will decrease very rapidly the further the target is from the observation point. In our implementation we’ve assumed, so far, that antennas are isotropic (even the they are wildly directional) and that the gains are optimal at \(1\). Thus we can use the to determine the maximum distance that we can detect and track a target from</p> \[R_{max} = \sqrt[4]{\dfrac{P_t G_t G_r \lambda^2 \sigma}{(4\pi)^3 S_{min} L_a(R)}}\] <p>Where \(S_{min}\) is the minimum detectable signal power before the signal is just lost in noise in the receiver. There are also influence from the earths surface and curvature that can be implemented into the mathematical model. For example the signal can hit the ground and be reflected from there onto the target and back to the receiver. This would increase the observed delay between transmission and reception. However we have not considered that for this project. Which means that \(S_{min}\) will be defined by the SNR in the receiver.</p> <h2 id="radar-modulation">Radar Modulation</h2> <p>So in order to actually use the theories we just discussed in relation to the radar equation in practice, we first need to send out a signal. The modulation could either be a continous wave (CW) waveform were we either use no modulation, use frequency modulation, or phase modulation. The other way we can go is to send out a series of pulses, basically turning the transmitter on and of, usually very fast. Here we can either stick with the pure pulse, or we can start using modulation inside the pulse. As with CW we can use frequency or phase modulation. For ranging and angle estimation purposes, we often use a Frequnecy modulated Continous Wave Radar (FMCW). The name can be a little devious, because what we are acuatlly doing is sending out a series of pulses with frequency modulation. The total series of pulses is called a frame.</p> <p>An FMCW radar will over a period of a pulse, linearly change the frequency of the signal from \(f_{min}\) to \(f_{max}\). When receiving the signal after it having bounced of the target, we will use a mixer in order to mix the original signal with the time delayed received signal. This is shown in the image below.</p> <p>The FMCW Radar uses a Fourier Transform on the received signal in order to determine</p> <p>Using FMCW Radar, we only need a single transciever in order to determine the range of our target, provided the target being in range. If however, we want to get some velocity and angle information about our target, this is also possible using FMCW. The idea of the pulse train come in when we start looking at the velocity of the target. Because a moving target will cause a very small change in doppler frequency when the wave is returned. This change is not enough for us to distinguish between velocities. However the phase will have a quite significant change associated with it. Therefore, we can exploit the change in phase between pulses and thus estimate the velocity with pretty good accuracy.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Magnus Borresen. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-QG1FB01NT0"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QG1FB01NT0");</script> </body> </html>